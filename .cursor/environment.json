{
  "$schema": "https://json-schema.org/draft/2019-09/schema",
  "agentCanUpdateSnapshot": true,
  "install": "bash -lc 'set -euo pipefail; export NVM_DIR=\"$HOME/.nvm\"; command -v git >/dev/null 2>&1 || (sudo apt-get update -y && sudo apt-get install -y git curl ca-certificates); if [ ! -d \"$NVM_DIR\" ]; then curl -fsSL https://raw.githubusercontent.com/nvm-sh/nvm/v0.39.7/install.sh | bash; fi; . \"$NVM_DIR/nvm.sh\"; nvm install 24; nvm alias default 24; cd /workspace && npm install'",
  "terminals": [
    {
      "name": "Run wow-converter",
      "command": "bash -lc 'cd /workspace && WOW_EXPORT_BASE_URL=\"https://wow.quangdel.com:27752\" CASC_REMOTE_REGION=eu CASC_REMOTE_PRODUCT=wow nohup npm run dev > ./wow-converter.log 2>&1 & echo $! > ./wow-converter.pid'",
      "description": "Starts wow-converter dev server in background, logs to wow-converter.log"
    },
    {
      "name": "Tail wow-converter logs",
      "command": "bash -lc 'cd /workspace && tail -n +1 -F ./wow-converter.log'",
      "description": "Tails the wow-converter dev server log"
    }
  ]
}

